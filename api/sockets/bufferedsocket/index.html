
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Mapper Proxy Main Page">
      
      
      
        <meta name="author" content="Nick Stockton">
      
      
        <link rel="canonical" href="https://nstockton.github.io/mapperproxy-mume/api/sockets/bufferedsocket/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.5">
    
    
      
        <title>bufferedsocket.py - Mapper Proxy</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.be71726b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mapper.sockets.bufferedsocket" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Mapper Proxy" class="md-header__button md-logo" aria-label="Mapper Proxy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mapper Proxy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              bufferedsocket.py
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/nstockton/mapperproxy-mume/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nstockton/mapperproxy-mume
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Mapper Proxy" class="md-nav__button md-logo" aria-label="Mapper Proxy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Mapper Proxy
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/nstockton/mapperproxy-mume/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    nstockton/mapperproxy-mume
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        API Index
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        API Navigation
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API Navigation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          API Navigation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        roomdata
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="roomdata" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          roomdata
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../roomdata/database/" class="md-nav__link">
        database.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../roomdata/objects/" class="md-nav__link">
        objects.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      <label class="md-nav__link" for="__nav_3_2">
        sockets
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="sockets" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          sockets
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          bufferedsocket.py
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        bufferedsocket.py
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket" class="md-nav__link">
    BufferedSocket
  </a>
  
    <nav class="md-nav" aria-label="BufferedSocket">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.family" class="md-nav__link">
    family
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.proto" class="md-nav__link">
    proto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.buffer" class="md-nav__link">
    buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.doSSLHandshake" class="md-nav__link">
    doSSLHandshake()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.fileno" class="md-nav__link">
    fileno()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getpeername" class="md-nav__link">
    getpeername()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getrecvbuffer" class="md-nav__link">
    getrecvbuffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsendbuffer" class="md-nav__link">
    getsendbuffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockname" class="md-nav__link">
    getsockname()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockopt" class="md-nav__link">
    getsockopt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.peek" class="md-nav__link">
    peek()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv" class="md-nav__link">
    recv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_close" class="md-nav__link">
    recv_close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_size" class="md-nav__link">
    recv_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_until" class="md-nav__link">
    recv_until()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.send" class="md-nav__link">
    send()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.sendall" class="md-nav__link">
    sendall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.setmaxsize" class="md-nav__link">
    setmaxsize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.setsockopt" class="md-nav__link">
    setsockopt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.settimeout" class="md-nav__link">
    settimeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL" class="md-nav__link">
    wrapSSL()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../fakesocket/" class="md-nav__link">
        fakesocket.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cleanmap/" class="md-nav__link">
        cleanmap.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../clock/" class="md-nav__link">
        clock.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        config.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../delays/" class="md-nav__link">
        delays.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../main/" class="md-nav__link">
        main.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mapper/" class="md-nav__link">
        mapper.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mudevents/" class="md-nav__link">
        mudevents.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        utils.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../world/" class="md-nav__link">
        world.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket" class="md-nav__link">
    BufferedSocket
  </a>
  
    <nav class="md-nav" aria-label="BufferedSocket">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.family" class="md-nav__link">
    family
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.proto" class="md-nav__link">
    proto
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.type" class="md-nav__link">
    type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.buffer" class="md-nav__link">
    buffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.close" class="md-nav__link">
    close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.doSSLHandshake" class="md-nav__link">
    doSSLHandshake()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.fileno" class="md-nav__link">
    fileno()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.flush" class="md-nav__link">
    flush()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getpeername" class="md-nav__link">
    getpeername()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getrecvbuffer" class="md-nav__link">
    getrecvbuffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsendbuffer" class="md-nav__link">
    getsendbuffer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockname" class="md-nav__link">
    getsockname()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockopt" class="md-nav__link">
    getsockopt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.peek" class="md-nav__link">
    peek()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv" class="md-nav__link">
    recv()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_close" class="md-nav__link">
    recv_close()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_size" class="md-nav__link">
    recv_size()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_until" class="md-nav__link">
    recv_until()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.send" class="md-nav__link">
    send()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.sendall" class="md-nav__link">
    sendall()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.setmaxsize" class="md-nav__link">
    setmaxsize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.setsockopt" class="md-nav__link">
    setsockopt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.settimeout" class="md-nav__link">
    settimeout()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.shutdown" class="md-nav__link">
    shutdown()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL" class="md-nav__link">
    wrapSSL()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/nstockton/mapperproxy-mume/blob/master/docs/api/sockets/bufferedsocket.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <div class="doc doc-object doc-module">



<h1 class="doc doc-heading" id="mapper.sockets.bufferedsocket">
        <code>Module mapper.sockets.bufferedsocket</code>



<a class="headerlink" href="#mapper.sockets.bufferedsocket" title="Permanent link">&para;</a></h1>

    <div class="doc doc-contents first">




  <div class="doc doc-children">









  <div class="doc doc-object doc-class">



<h2 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket">
        <code>Class BufferedSocket</code>



<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">





  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.family">
<code class="codehilite language-python"><span class="n">Attribute</span> <span class="n">family</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.family" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A passthrough to the wrapped socket's family. BufferedSocket
supports all widely-used families, so this read-only attribute
can be one of :data:<code>socket.AF_INET</code> for IP,
:data:<code>socket.AF_INET6</code> for IPv6, and :data:<code>socket.AF_UNIX</code>
for UDS.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.proto">
<code class="codehilite language-python"><span class="n">Attribute</span> <span class="n">proto</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.proto" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A passthrough to the wrapped socket's protocol. The <code>proto</code>
attribute is very rarely used, so it's always 0, meaning "the
default" protocol. Pretty much all the practical information
is in :attr:<code>~BufferedSocket.type</code> and
:attr:<code>~BufferedSocket.family</code>, so you can go back to never
thinking about this.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.type">
<code class="codehilite language-python"><span class="n">Attribute</span> <span class="nb">type</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
      <small class="doc doc-property doc-property-property"><code>property</code></small>
      <small class="doc doc-property doc-property-readonly"><code>readonly</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.type" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A passthrough to the wrapped socket's type. Valid usages should
only ever see :data:<code>socket.SOCK_STREAM</code>.</p>
    </div>

  </div>






  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.__init__">
<code class="codehilite language-python"><span class="n">Method</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sock</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="mi">32768</span><span class="p">,</span> <span class="n">recvsize</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">encrypt</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.__init__" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Defines the constructor for the object.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sock</code></td>
        <td><code>Union[socket.socket, FakeSocket]</code></td>
        <td><p>The connected socket to be wrapped.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>Union[socketutils._UNSET, float, None]</code></td>
        <td><p>The default timeout for <a href="https://docs.python.org/library/socket.html#socket.socket.send">send</a> and <a href="https://docs.python.org/library/socket.html#socket.socket.recv">recv</a>, in seconds.
Set to <code>None</code> for no timeout, <code>0</code> for nonblocking.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
      <tr>
        <td><code>maxsize</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of bytes to be received into the buffer before it raises an exception.</p></td>
        <td><code>32768</code></td>
      </tr>
      <tr>
        <td><code>recvsize</code></td>
        <td><code>Union[socketutils._UNSET, int]</code></td>
        <td><p>The number of bytes to receive for every lower-level <a href="https://docs.python.org/library/socket.html#socket.socket.recv"><code>socket.recv</code></a> call.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
      <tr>
        <td><code>encrypt</code></td>
        <td><code>bool</code></td>
        <td><p>True if the socket should be wrapped in an <a href="https://docs.python.org/library/ssl.html#ssl.SSLContext">SSL context</a>, False otherwise.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Key-word only arguments to be passed to the
<a href="#mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL">wrapSSL</a> method.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>  <span class="c1"># type: ignore[no-any-unimported]</span>
	<span class="bp">self</span><span class="p">,</span>
	<span class="n">sock</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">,</span> <span class="n">FakeSocket</span><span class="p">],</span>
	<span class="n">timeout</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">socketutils</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">socketutils</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">,</span>
	<span class="n">maxsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">socketutils</span><span class="o">.</span><span class="n">DEFAULT_MAXSIZE</span><span class="p">,</span>
	<span class="n">recvsize</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">socketutils</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">socketutils</span><span class="o">.</span><span class="n">_UNSET</span><span class="p">,</span>
	<span class="n">encrypt</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
	<span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Defines the constructor for the object.</span>

<span class="sd">	Args:</span>
<span class="sd">		sock: The connected socket to be wrapped.</span>
<span class="sd">		timeout: The default timeout for [send][1] and [recv][2], in seconds.</span>
<span class="sd">			Set to `None` for no timeout, `0` for nonblocking.</span>
<span class="sd">			[1]: &lt;https://docs.python.org/library/socket.html#socket.socket.send&gt;</span>
<span class="sd">			[2]: &lt;https://docs.python.org/library/socket.html#socket.socket.recv&gt;</span>
<span class="sd">		maxsize: The maximum number of bytes to be received into the buffer before it raises an exception.</span>
<span class="sd">		recvsize: The number of bytes to receive for every lower-level [`socket.recv`][1] call.</span>
<span class="sd">			[1]: &lt;https://docs.python.org/library/socket.html#socket.socket.recv&gt;</span>
<span class="sd">		encrypt: True if the socket should be wrapped in an [SSL context][1], False otherwise.</span>
<span class="sd">			[1]: &lt;https://docs.python.org/library/ssl.html#ssl.SSLContext&gt;</span>
<span class="sd">		**kwargs: Key-word only arguments to be passed to the</span>
<span class="sd">			[wrapSSL][mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL] method.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">,</span> <span class="n">FakeSocket</span><span class="p">,</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLSocket</span><span class="p">]</span>
	<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">,</span> <span class="n">recvsize</span><span class="p">)</span>
	<span class="k">if</span> <span class="n">encrypt</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">sock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wrapSSL</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.buffer">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.buffer" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Buffer <em>data</em> bytes for the next send operation.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="s2">&quot;Buffer *data* bytes for the next send operation.&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sbuf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.close">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">close</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.close" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Closes the wrapped socket, and empties the internal buffers. The
send buffer is not flushed automatically, so if you have been
calling :meth:<code>~BufferedSocket.buffer</code>, be sure to call
:meth:<code>~BufferedSocket.flush</code> before calling this
method. After calling this method, future socket operations
will raise :exc:<code>socket.error</code>.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Closes the wrapped socket, and empties the internal buffers. The</span>
<span class="sd">    send buffer is not flushed automatically, so if you have been</span>
<span class="sd">    calling :meth:`~BufferedSocket.buffer`, be sure to call</span>
<span class="sd">    :meth:`~BufferedSocket.flush` before calling this</span>
<span class="sd">    method. After calling this method, future socket operations</span>
<span class="sd">    will raise :exc:`socket.error`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf_unconsumed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sbuf</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.doSSLHandshake">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">doSSLHandshake</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sock</span><span class="p">)</span></code>


<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.doSSLHandshake" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Performs an SSL handshake.</p>
<div class="admonition note">
<p class="admonition-title">Note<p>The <a href="https://docs.python.org/library/ssl.html#ssl.SSLSocket.do_handshake"><code>SSLSocket.do_handshake</code></a> method is non-blocking and must be retried until it returns successfully.
See <a href="https://docs.python.org/library/ssl.html#ssl-nonblocking">here</a> for further explanation.</p>
</p>
</div>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sock</code></td>
        <td><code>ssl.SSLSocket</code></td>
        <td><p>The socket to perform the handshake on.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">doSSLHandshake</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sock</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLSocket</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Performs an SSL handshake.</span>

<span class="sd">	Note:</span>
<span class="sd">		The [`SSLSocket.do_handshake`][1] method is non-blocking and must be retried until it returns successfully.</span>
<span class="sd">		See [here][2] for further explanation.</span>
<span class="sd">		[1]: &lt;https://docs.python.org/library/ssl.html#ssl.SSLSocket.do_handshake&gt;</span>
<span class="sd">		[2]: &lt;https://docs.python.org/library/ssl.html#ssl-nonblocking&gt;</span>

<span class="sd">	Args:</span>
<span class="sd">		sock: The socket to perform the handshake on.</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">sock</span><span class="o">.</span><span class="n">do_handshake</span><span class="p">()</span>
			<span class="k">break</span>
		<span class="k">except</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLWantReadError</span><span class="p">:</span>
			<span class="n">select</span><span class="o">.</span><span class="n">select</span><span class="p">([</span><span class="n">sock</span><span class="p">],</span> <span class="p">[],</span> <span class="p">[])</span>
		<span class="k">except</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLWantWriteError</span><span class="p">:</span>
			<span class="n">select</span><span class="o">.</span><span class="n">select</span><span class="p">([],</span> <span class="p">[</span><span class="n">sock</span><span class="p">],</span> <span class="p">[])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.fileno">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">fileno</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.fileno" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns the file descriptor of the wrapped socket. -1 if it has
been closed on this end.</p>
<p>Note that this makes the BufferedSocket selectable, i.e.,
usable for operating system event loops without any external
libraries. Keep in mind that the operating system cannot know
about data in BufferedSocket's internal buffer. Exercise
discipline with calling <code>recv*</code> functions.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">fileno</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the file descriptor of the wrapped socket. -1 if it has</span>
<span class="sd">    been closed on this end.</span>

<span class="sd">    Note that this makes the BufferedSocket selectable, i.e.,</span>
<span class="sd">    usable for operating system event loops without any external</span>
<span class="sd">    libraries. Keep in mind that the operating system cannot know</span>
<span class="sd">    about data in BufferedSocket&#39;s internal buffer. Exercise</span>
<span class="sd">    discipline with calling ``recv*`` functions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">fileno</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.flush">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.flush" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Send the contents of the internal send buffer.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">flush</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Send the contents of the internal send buffer.&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.getpeername">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getpeername</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.getpeername" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convenience function to return the remote address to which the
wrapped socket is connected.  See :meth:<code>socket.getpeername</code>
for more details.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getpeername</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience function to return the remote address to which the</span>
<span class="sd">    wrapped socket is connected.  See :meth:`socket.getpeername`</span>
<span class="sd">    for more details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">getpeername</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.getrecvbuffer">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getrecvbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.getrecvbuffer" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns the receive buffer bytestring (rbuf).</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getrecvbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Returns the receive buffer bytestring (rbuf).&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.getsendbuffer">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getsendbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.getsendbuffer" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns a copy of the send buffer list.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getsendbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="s2">&quot;Returns a copy of the send buffer list.&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sbuf</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.getsockname">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getsockname</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockname" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convenience function to return the wrapped socket's own address.
See :meth:<code>socket.getsockname</code> for more details.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getsockname</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience function to return the wrapped socket&#39;s own address.</span>
<span class="sd">    See :meth:`socket.getsockname` for more details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">getsockname</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.getsockopt">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">getsockopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">,</span> <span class="n">buflen</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.getsockopt" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convenience function passing through to the wrapped socket's
:meth:<code>socket.getsockopt</code>.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">getsockopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">,</span> <span class="n">buflen</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience function passing through to the wrapped socket&#39;s</span>
<span class="sd">    :meth:`socket.getsockopt`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">buflen</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">args</span> <span class="o">+=</span> <span class="p">(</span><span class="n">buflen</span><span class="p">,)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">getsockopt</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.peek">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.peek" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns <em>size</em> bytes from the socket and/or internal buffer. Bytes
are retained in BufferedSocket's internal recv buffer. To only
see bytes in the recv buffer, use :meth:<code>getrecvbuffer</code>.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>size</code></td>
        <td><code>int</code></td>
        <td><p>The exact number of bytes to peek at</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>The timeout for this operation. Can be 0 for
nonblocking and None for no timeout. Defaults to the value
set in the constructor of BufferedSocket.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
  </tbody>
</table>      <p>If the appropriate number of bytes cannot be fetched from the
buffer and socket before <em>timeout</em> expires, then a
:exc:<code>Timeout</code> will be raised. If the connection is closed, a
:exc:<code>ConnectionClosed</code> will be raised.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">peek</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns *size* bytes from the socket and/or internal buffer. Bytes</span>
<span class="sd">    are retained in BufferedSocket&#39;s internal recv buffer. To only</span>
<span class="sd">    see bytes in the recv buffer, use :meth:`getrecvbuffer`.</span>

<span class="sd">    Args:</span>
<span class="sd">        size (int): The exact number of bytes to peek at</span>
<span class="sd">        timeout (float): The timeout for this operation. Can be 0 for</span>
<span class="sd">            nonblocking and None for no timeout. Defaults to the value</span>
<span class="sd">            set in the constructor of BufferedSocket.</span>

<span class="sd">    If the appropriate number of bytes cannot be fetched from the</span>
<span class="sd">    buffer and socket before *timeout* expires, then a</span>
<span class="sd">    :exc:`Timeout` will be raised. If the connection is closed, a</span>
<span class="sd">    :exc:`ConnectionClosed` will be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">[:</span><span class="n">size</span><span class="p">]</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_size</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="n">data</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.recv">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">recv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.recv" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Returns <strong>up to</strong> <em>size</em> bytes, using the internal buffer before
performing a single :meth:<code>socket.recv</code> operation.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>size</code></td>
        <td><code>int</code></td>
        <td><p>The maximum number of bytes to receive.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flags</code></td>
        <td><code>int</code></td>
        <td><p>Kept for API compatibility with sockets. Only
the default, <code>0</code>, is valid.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>The timeout for this operation. Can be
<code>0</code> for nonblocking and <code>None</code> for no
timeout. Defaults to the value set in the constructor
of BufferedSocket.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
  </tbody>
</table>      <p>If the operation does not complete in <em>timeout</em> seconds, a
:exc:<code>Timeout</code> is raised. Much like the built-in
:class:<code>socket.socket</code>, if this method returns an empty string,
then the socket is closed and recv buffer is empty. Further
calls to recv will raise :exc:<code>socket.error</code>.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns **up to** *size* bytes, using the internal buffer before</span>
<span class="sd">    performing a single :meth:`socket.recv` operation.</span>

<span class="sd">    Args:</span>
<span class="sd">        size (int): The maximum number of bytes to receive.</span>
<span class="sd">        flags (int): Kept for API compatibility with sockets. Only</span>
<span class="sd">            the default, ``0``, is valid.</span>
<span class="sd">        timeout (float): The timeout for this operation. Can be</span>
<span class="sd">            ``0`` for nonblocking and ``None`` for no</span>
<span class="sd">            timeout. Defaults to the value set in the constructor</span>
<span class="sd">            of BufferedSocket.</span>

<span class="sd">    If the operation does not complete in *timeout* seconds, a</span>
<span class="sd">    :exc:`Timeout` is raised. Much like the built-in</span>
<span class="sd">    :class:`socket.socket`, if this method returns an empty string,</span>
<span class="sd">    then the socket is closed and recv buffer is empty. Further</span>
<span class="sd">    calls to recv will raise :exc:`socket.error`.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>
        <span class="k">if</span> <span class="n">flags</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;non-zero flags not supported: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">flags</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="p">:</span>
            <span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">[:</span><span class="n">size</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">[</span><span class="n">size</span><span class="p">:]</span>
            <span class="k">return</span> <span class="n">data</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">:</span>
            <span class="n">ret</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
            <span class="k">return</span> <span class="n">ret</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recvsize</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>  <span class="c1"># check the rbuf attr for more</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">size</span><span class="p">:</span>
            <span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:</span><span class="n">size</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="n">size</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.recv_close">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">recv_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_close" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Receive until the connection is closed, up to <em>maxsize</em> bytes. If
more than <em>maxsize</em> bytes are received, raises :exc:<code>MessageTooLong</code>.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Receive until the connection is closed, up to *maxsize* bytes. If</span>
<span class="sd">    more than *maxsize* bytes are received, raises :exc:`MessageTooLong`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># recv_close works by using recv_size to request maxsize data,</span>
    <span class="c1"># and ignoring ConnectionClose, returning and clearing the</span>
    <span class="c1"># internal buffer instead. It raises an exception if</span>
    <span class="c1"># ConnectionClosed isn&#39;t raised.</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">maxsize</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">maxsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span>
        <span class="k">if</span> <span class="n">maxsize</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">maxsize</span> <span class="o">=</span> <span class="n">_RECV_LARGE_MAXSIZE</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">recvd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_size</span><span class="p">(</span><span class="n">maxsize</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ConnectionClosed</span><span class="p">:</span>
            <span class="n">ret</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># put extra received bytes (now in rbuf) after recvd</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="n">recvd</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span>
            <span class="n">size_read</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">maxsize</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">))</span>
            <span class="k">raise</span> <span class="n">MessageTooLong</span><span class="p">(</span><span class="n">size_read</span><span class="p">)</span>  <span class="c1"># check receive buffer</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.recv_size">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">recv_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_size" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Read off of the internal buffer, then off the socket, until
<em>size</em> bytes have been read.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>size</code></td>
        <td><code>int</code></td>
        <td><p>number of bytes to read before returning.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>The timeout for this operation. Can be 0 for
nonblocking and None for no timeout. Defaults to the value
set in the constructor of BufferedSocket.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
  </tbody>
</table>      <p>If the appropriate number of bytes cannot be fetched from the
buffer and socket before <em>timeout</em> expires, then a
:exc:<code>Timeout</code> will be raised. If the connection is closed, a
:exc:<code>ConnectionClosed</code> will be raised.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Read off of the internal buffer, then off the socket, until</span>
<span class="sd">    *size* bytes have been read.</span>

<span class="sd">    Args:</span>
<span class="sd">        size (int): number of bytes to read before returning.</span>
<span class="sd">        timeout (float): The timeout for this operation. Can be 0 for</span>
<span class="sd">            nonblocking and None for no timeout. Defaults to the value</span>
<span class="sd">            set in the constructor of BufferedSocket.</span>

<span class="sd">    If the appropriate number of bytes cannot be fetched from the</span>
<span class="sd">    buffer and socket before *timeout* expires, then a</span>
<span class="sd">    :exc:`Timeout` will be raised. If the connection is closed, a</span>
<span class="sd">    :exc:`ConnectionClosed` will be raised.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>
        <span class="n">chunks</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">total_bytes</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
            <span class="n">nxt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recvsize</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">nxt</span><span class="p">:</span>
                <span class="n">total_bytes</span> <span class="o">+=</span> <span class="nb">len</span><span class="p">(</span><span class="n">nxt</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">total_bytes</span> <span class="o">&gt;=</span> <span class="n">size</span><span class="p">:</span>
                    <span class="k">break</span>
                <span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nxt</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">timeout</span><span class="p">:</span>
                    <span class="n">cur_timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="o">-</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">cur_timeout</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">cur_timeout</span><span class="p">)</span>
                <span class="n">nxt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recvsize</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;connection closed after reading </span><span class="si">%s</span><span class="s1"> of </span><span class="si">%s</span><span class="s1"> requested&#39;</span>
                       <span class="s1">&#39; bytes&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_bytes</span><span class="p">,</span> <span class="n">size</span><span class="p">))</span>
                <span class="k">raise</span> <span class="n">ConnectionClosed</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># check recv buffer</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;read </span><span class="si">%s</span><span class="s1"> of </span><span class="si">%s</span><span class="s1"> bytes&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">total_bytes</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">Timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>  <span class="c1"># check recv buffer</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="c1"># received data is still buffered in the case of errors</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="n">extra_bytes</span> <span class="o">=</span> <span class="n">total_bytes</span> <span class="o">-</span> <span class="n">size</span>
        <span class="k">if</span> <span class="n">extra_bytes</span><span class="p">:</span>
            <span class="n">last</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="n">nxt</span><span class="p">[:</span><span class="o">-</span><span class="n">extra_bytes</span><span class="p">],</span> <span class="n">nxt</span><span class="p">[</span><span class="o">-</span><span class="n">extra_bytes</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">last</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="n">nxt</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span>
        <span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">last</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">chunks</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.recv_until">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">recv_until</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">with_delimiter</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.recv_until" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Receive until <em>delimiter</em> is found, <em>maxsize</em> bytes have been read,
or <em>timeout</em> is exceeded.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>delimiter</code></td>
        <td><code>bytes</code></td>
        <td><p>One or more bytes to be searched for
in the socket stream.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>The timeout for this operation. Can be 0 for
nonblocking and None for no timeout. Defaults to the value
set in the constructor of BufferedSocket.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
      <tr>
        <td><code>maxsize</code></td>
        <td><code>int</code></td>
        <td><p>The maximum size for the internal buffer.
Defaults to the value set in the constructor.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
      <tr>
        <td><code>with_delimiter</code></td>
        <td><code>bool</code></td>
        <td><p>Whether or not to include the
delimiter in the output. <code>False</code> by default, but
<code>True</code> is useful in cases where one is simply
forwarding the messages.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>      <p><code>recv_until</code> will raise the following exceptions:</p>
<ul>
<li>:exc:<code>Timeout</code> if more than <em>timeout</em> seconds expire.</li>
<li>:exc:<code>ConnectionClosed</code> if the underlying socket is closed
    by the sending end.</li>
<li>:exc:<code>MessageTooLong</code> if the delimiter is not found in the
    first <em>maxsize</em> bytes.</li>
<li>:exc:<code>socket.error</code> if operating in nonblocking mode
    (<em>timeout</em> equal to 0), or if some unexpected socket error
    occurs, such as operating on a closed socket.</li>
</ul>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">recv_until</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">,</span> <span class="n">maxsize</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">,</span>
               <span class="n">with_delimiter</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Receive until *delimiter* is found, *maxsize* bytes have been read,</span>
<span class="sd">    or *timeout* is exceeded.</span>

<span class="sd">    Args:</span>
<span class="sd">        delimiter (bytes): One or more bytes to be searched for</span>
<span class="sd">            in the socket stream.</span>
<span class="sd">        timeout (float): The timeout for this operation. Can be 0 for</span>
<span class="sd">            nonblocking and None for no timeout. Defaults to the value</span>
<span class="sd">            set in the constructor of BufferedSocket.</span>
<span class="sd">        maxsize (int): The maximum size for the internal buffer.</span>
<span class="sd">            Defaults to the value set in the constructor.</span>
<span class="sd">        with_delimiter (bool): Whether or not to include the</span>
<span class="sd">            delimiter in the output. ``False`` by default, but</span>
<span class="sd">            ``True`` is useful in cases where one is simply</span>
<span class="sd">            forwarding the messages.</span>

<span class="sd">    ``recv_until`` will raise the following exceptions:</span>

<span class="sd">      * :exc:`Timeout` if more than *timeout* seconds expire.</span>
<span class="sd">      * :exc:`ConnectionClosed` if the underlying socket is closed</span>
<span class="sd">        by the sending end.</span>
<span class="sd">      * :exc:`MessageTooLong` if the delimiter is not found in the</span>
<span class="sd">        first *maxsize* bytes.</span>
<span class="sd">      * :exc:`socket.error` if operating in nonblocking mode</span>
<span class="sd">        (*timeout* equal to 0), or if some unexpected socket error</span>
<span class="sd">        occurs, such as operating on a closed socket.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">maxsize</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">maxsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span>
        <span class="k">if</span> <span class="n">maxsize</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">maxsize</span> <span class="o">=</span> <span class="n">_RECV_LARGE_MAXSIZE</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>
        <span class="n">len_delimiter</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">delimiter</span><span class="p">)</span>

        <span class="n">sock</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span>
        <span class="n">recvd</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">find_offset_start</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># becomes a negative index below</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">timeout</span><span class="p">:</span>  <span class="c1"># covers None (no timeout) and 0 (nonblocking)</span>
            <span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">offset</span> <span class="o">=</span> <span class="n">recvd</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">delimiter</span><span class="p">,</span> <span class="n">find_offset_start</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">offset</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>  <span class="c1"># str.find returns -1 when no match found</span>
                    <span class="k">if</span> <span class="n">with_delimiter</span><span class="p">:</span>  <span class="c1"># include delimiter in return</span>
                        <span class="n">offset</span> <span class="o">+=</span> <span class="n">len_delimiter</span>
                        <span class="n">rbuf_offset</span> <span class="o">=</span> <span class="n">offset</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">rbuf_offset</span> <span class="o">=</span> <span class="n">offset</span> <span class="o">+</span> <span class="n">len_delimiter</span>
                    <span class="k">break</span>
                <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">recvd</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">maxsize</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">MessageTooLong</span><span class="p">(</span><span class="n">maxsize</span><span class="p">,</span> <span class="n">delimiter</span><span class="p">)</span>  <span class="c1"># see rbuf</span>
                <span class="k">if</span> <span class="n">timeout</span><span class="p">:</span>
                    <span class="n">cur_timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="o">-</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">cur_timeout</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">()</span>
                    <span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">cur_timeout</span><span class="p">)</span>
                <span class="n">nxt</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">recv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_recvsize</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">nxt</span><span class="p">:</span>
                    <span class="n">args</span> <span class="o">=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">recvd</span><span class="p">),</span> <span class="n">delimiter</span><span class="p">)</span>
                    <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;connection closed after reading </span><span class="si">%s</span><span class="s1"> bytes&#39;</span>
                           <span class="s1">&#39; without finding symbol: </span><span class="si">%r</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">args</span><span class="p">)</span>
                    <span class="k">raise</span> <span class="n">ConnectionClosed</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>  <span class="c1"># check the recv buffer</span>
                <span class="n">recvd</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">nxt</span><span class="p">)</span>
                <span class="n">find_offset_start</span> <span class="o">=</span> <span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">nxt</span><span class="p">)</span> <span class="o">-</span> <span class="n">len_delimiter</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">recvd</span><span class="p">)</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;read </span><span class="si">%s</span><span class="s1"> bytes without finding delimiter: </span><span class="si">%r</span><span class="s1">&#39;</span>
                   <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">recvd</span><span class="p">),</span> <span class="n">delimiter</span><span class="p">))</span>
            <span class="k">raise</span> <span class="n">Timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>  <span class="c1"># check the recv buffer</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">recvd</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rbuf</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">recvd</span><span class="p">[:</span><span class="n">offset</span><span class="p">]),</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">recvd</span><span class="p">[</span><span class="n">rbuf_offset</span><span class="p">:])</span>
    <span class="k">return</span> <span class="n">val</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.send">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.send" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Send the contents of the internal send buffer, as well as <em>data</em>,
to the receiving end of the connection. Returns the total
number of bytes sent. If no exception is raised, all of <em>data</em> was
sent and the internal send buffer is empty.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>data</code></td>
        <td><code>bytes</code></td>
        <td><p>The bytes to send.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>flags</code></td>
        <td><code>int</code></td>
        <td><p>Kept for API compatibility with sockets. Only
the default 0 is valid.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>timeout</code></td>
        <td><code>float</code></td>
        <td><p>The timeout for this operation. Can be 0 for
nonblocking and None for no timeout. Defaults to the value
set in the constructor of BufferedSocket.</p></td>
        <td><code>&lt;object object at 0x0000019814B26030&gt;</code></td>
      </tr>
  </tbody>
</table>      <p>Will raise :exc:<code>Timeout</code> if the send operation fails to
complete before <em>timeout</em>. In the event of an exception, use
:meth:<code>BufferedSocket.getsendbuffer</code> to see which data was
unsent.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Send the contents of the internal send buffer, as well as *data*,</span>
<span class="sd">    to the receiving end of the connection. Returns the total</span>
<span class="sd">    number of bytes sent. If no exception is raised, all of *data* was</span>
<span class="sd">    sent and the internal send buffer is empty.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (bytes): The bytes to send.</span>
<span class="sd">        flags (int): Kept for API compatibility with sockets. Only</span>
<span class="sd">            the default 0 is valid.</span>
<span class="sd">        timeout (float): The timeout for this operation. Can be 0 for</span>
<span class="sd">            nonblocking and None for no timeout. Defaults to the value</span>
<span class="sd">            set in the constructor of BufferedSocket.</span>

<span class="sd">    Will raise :exc:`Timeout` if the send operation fails to</span>
<span class="sd">    complete before *timeout*. In the event of an exception, use</span>
<span class="sd">    :meth:`BufferedSocket.getsendbuffer` to see which data was</span>
<span class="sd">    unsent.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="n">_UNSET</span><span class="p">:</span>
            <span class="n">timeout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span>
        <span class="k">if</span> <span class="n">flags</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;non-zero flags not supported&quot;</span><span class="p">)</span>
        <span class="n">sbuf</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sbuf</span>
        <span class="n">sbuf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sbuf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">sbuf</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sbuf</span> <span class="k">if</span> <span class="n">s</span><span class="p">])]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">)</span>
        <span class="n">start</span><span class="p">,</span> <span class="n">total_sent</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">(),</span> <span class="mi">0</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">sbuf</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">sent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">sbuf</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">total_sent</span> <span class="o">+=</span> <span class="n">sent</span>
                <span class="n">sbuf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">sbuf</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">sent</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">timeout</span><span class="p">:</span>
                    <span class="n">cur_timeout</span> <span class="o">=</span> <span class="n">timeout</span> <span class="o">-</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">cur_timeout</span> <span class="o">&lt;=</span> <span class="mf">0.0</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">cur_timeout</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">timeout</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">Timeout</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> bytes unsent&#39;</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">sbuf</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
    <span class="k">return</span> <span class="n">total_sent</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.sendall">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">sendall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x0000019814B26030</span><span class="o">&gt;</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.sendall" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>A passthrough to :meth:<code>~BufferedSocket.send</code>, retained for
parallelism to the :class:<code>socket.socket</code> API.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">sendall</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">_UNSET</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A passthrough to :meth:`~BufferedSocket.send`, retained for</span>
<span class="sd">    parallelism to the :class:`socket.socket` API.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.setmaxsize">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">setmaxsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.setmaxsize" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the default maximum buffer size <em>maxsize</em> for future
operations, in bytes. Does not truncate the current buffer.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">setmaxsize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">maxsize</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set the default maximum buffer size *maxsize* for future</span>
<span class="sd">    operations, in bytes. Does not truncate the current buffer.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">maxsize</span> <span class="o">=</span> <span class="n">maxsize</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.setsockopt">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">setsockopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.setsockopt" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convenience function passing through to the wrapped socket's
:meth:<code>socket.setsockopt</code>.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">setsockopt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience function passing through to the wrapped socket&#39;s</span>
<span class="sd">    :meth:`socket.setsockopt`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">optname</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.settimeout">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">settimeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.settimeout" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Set the default <em>timeout</em> for future operations, in seconds.</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">settimeout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout</span><span class="p">):</span>
    <span class="s2">&quot;Set the default *timeout* for future operations, in seconds.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="n">timeout</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.shutdown">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">how</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-inherited"><code>inherited</code></small>
  </span>

<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.shutdown" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Convenience method which passes through to the wrapped socket's
:meth:<code>~socket.shutdown</code>. Semantics vary by platform, so no
special internal handling is done with the buffers. This
method exists to facilitate the most common usage, wherein a
full <code>shutdown</code> is followed by a
:meth:<code>~BufferedSocket.close</code>. Developers requiring more
support, please open <code>an issue</code>_.</p>
<p>.. _an issue: https://github.com/mahmoud/boltons/issues</p>

        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">how</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convenience method which passes through to the wrapped socket&#39;s</span>
<span class="sd">    :meth:`~socket.shutdown`. Semantics vary by platform, so no</span>
<span class="sd">    special internal handling is done with the buffers. This</span>
<span class="sd">    method exists to facilitate the most common usage, wherein a</span>
<span class="sd">    full ``shutdown`` is followed by a</span>
<span class="sd">    :meth:`~BufferedSocket.close`. Developers requiring more</span>
<span class="sd">    support, please open `an issue`_.</span>

<span class="sd">    .. _an issue: https://github.com/mahmoud/boltons/issues</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">:</span>
        <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="n">how</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 class="doc doc-heading" id="mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL">
<code class="codehilite language-python"><span class="n">Method</span> <span class="n">wrapSSL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sock</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>


<a class="headerlink" href="#mapper.sockets.bufferedsocket.BufferedSocket.wrapSSL" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Wraps a socket in an SSL context.</p>

<p><strong>Parameters:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>sock</code></td>
        <td><code>socket.socket</code></td>
        <td><p>The unencrypted socket.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**kwargs</code></td>
        <td><code>Any</code></td>
        <td><p>Key-word only arguments to be passed to the <a href="https://docs.python.org/library/ssl.html#ssl.SSLContext.wrap_socket"><code>SSLContext.wrap_socket</code></a> method.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table role="grid" class="data">
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>ssl.SSLSocket</code></td>
      <td><p>The socket wrapped in an
<a href="https://docs.python.org/library/ssl.html#ssl.SSLContext">SSL context.</a></p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>mapper\sockets\bufferedsocket.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">wrapSSL</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sock</span><span class="p">:</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLSocket</span><span class="p">:</span>
	<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">	Wraps a socket in an SSL context.</span>

<span class="sd">	Args:</span>
<span class="sd">		sock: The unencrypted socket.</span>
<span class="sd">		**kwargs: Key-word only arguments to be passed to the [`SSLContext.wrap_socket`][1] method.</span>
<span class="sd">			[1]: &lt;https://docs.python.org/library/ssl.html#ssl.SSLContext.wrap_socket&gt;</span>

<span class="sd">	Returns:</span>
<span class="sd">		The socket wrapped in an</span>
<span class="sd">		[SSL context.](https://docs.python.org/library/ssl.html#ssl.SSLContext)</span>
<span class="sd">	&quot;&quot;&quot;</span>
	<span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;do_handshake_on_connect&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Avoid race condition.</span>
	<span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_lock</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_send_lock</span><span class="p">:</span>
		<span class="n">originalTimeout</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">gettimeout</span><span class="p">()</span>
		<span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
		<span class="k">try</span><span class="p">:</span>
			<span class="n">context</span><span class="p">:</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLContext</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">SSLContext</span><span class="p">(</span><span class="n">ssl</span><span class="o">.</span><span class="n">PROTOCOL_TLS_CLIENT</span><span class="p">)</span>
			<span class="n">context</span><span class="o">.</span><span class="n">load_verify_locations</span><span class="p">(</span><span class="n">CERT_LOCATION</span><span class="p">)</span>
			<span class="n">sock</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">wrap_socket</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">doSSLHandshake</span><span class="p">(</span><span class="n">sock</span><span class="p">)</span>
		<span class="k">finally</span><span class="p">:</span>
			<span class="n">sock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="n">originalTimeout</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">sock</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2020 Nick Stockton
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56a63758.min.js"></script>
      
        <script src="../../../search/main.js"></script>
      
    
  </body>
</html>